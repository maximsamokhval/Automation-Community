    ПРИМЕЧАНИЕ. Доступно только для лицензии КОРП. Подробнее о видах лицензий см. здесь.

Счетчики потребления ресурсов предназначены для сбора и накопления информации о некоторых характеристиках производительности системы. Каждый счетчик имеет имя, описание и набор свойств, описывающих накапливаемую информацию.

Информация, накопленная счетчиками, может отображаться в консоли кластера, а может использоваться механизмом ограничения потребления ресурсов. Механизм ограничения потребления ресурсов использует данные счетчиков в качестве входной информации, на основании которой принимается решение об ограничении действий пользователей.

Счетчик позволяет накапливать информацию за один серверный вызов или за указанный интервал времени. Режим работы счетчика задается с помощью свойства Длительность сбора:

● Серверный вызов ‑ в этом случае все параметры, которые накапливает счетчик, используют данные текущего серверного вызова.

● Другое значение ‑ в этом случае информация накапливается за указанный в свойстве Длительность сбора интервал времени. Накопление осуществляется скользящим окном указанного размера.

Счетчик позволяет накапливать следующую информацию:

● Время, потраченное на выполнение следующих действий:

● Серверные вызовы ‑ время, потраченное с момента начала до момента окончания серверного вызова, в миллисекундах. Для формирования используется значение Время вызова из свойств сеанса.

● Процессорное время ‑ процессорное время, непосредственно использованное на выполнение серверного вызова, в миллисекундах. Для формирования используется значение Процессорное время из свойств сеанса.

● Время вызовов СУБД ‑ время, потраченное на вызов СУБД, в миллисекундах. Для формирования используется значение Время вызова СУБД из свойств сеанса.

● Время вызовов сервисов ‑ сколько времени было потрачено на работу сервисов кластера, в миллисекундах. Для формирования используется значение Время вызовов сервисов из свойств сеанса.

● Объем данных, обработанных за время замера:

● Память ‑ объем оперативной памяти, занятой сеансом в текущий момент, в байтах. Этот показатель всегда показывает текущее значение. Для формирования используется значение Память (всего) из свойств сеанса.

● Чтение ‑ объем данных, прочитанных с диска, в байтах. Для формирования используется значение Чтение из свойств сеанса.

● Запись ‑ объем данных, записанных на диск, в байтах. Для формирования используется значение Запись из свойств сеанса.

● Данных СУБД ‑ объем данных, которые были переданы и получены при работе с СУБД, в байтах. Для формирования используется значение Данных СУБД из свойств сеанса.

● Количественные показатели:

● Количество вызовов ‑ количество серверных вызовов. Для формирования используется значение Количество вызовов из свойств сеанса.

● Количество активных сеансов ‑ текущее количество активных сеансов.

● Количество сеансов ‑ общее количество сеансов за интервал измерения. Включает в себя как активные сеансы, так и уже завершенные сеансы.

В зависимости от используемой длительности сбора, для формирования показателей используются разные свойства сеанса:

● При расчете за серверный вызов, в качестве исходной информации используется значение из свойств сеанса с суффиксом (текущее). Например, для расчета длительности серверного вызова используется свойство Время вызова (текущее).

● При расчете за интервал времени, используется разность между итоговым значением показателя на конец интервала и итоговым показателем на начало интервала. Таким образом, для расчета значения Серверные вызовы за интервал из значения Время вызова (всего) на конец интервала вычитается значение Время вызова (всего) на начало интервала.